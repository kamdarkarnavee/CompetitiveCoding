def sudoku2(grid):
    box = dict()
    for i in range(9):
        row = []
        col = []
        for j in range(9):
            if grid[i][j] != ".":
                if grid[i][j] in row:
                    return False
                row.append(grid[i][j])

                index = i // 3 * 3 + j // 3
                if index in box:
                    if grid[i][j] in box[index]:
                        return False
                    box[index].append(grid[i][j])
                else:
                    box[index] = [grid[i][j]]

            if grid[j][i] != ".":
                if grid[j][i] in col:
                    return False
                col.append(grid[j][i])

        print('row:', row)
        print('col:', col)
    print(box)
    return True


grid = [[".", ".", ".", "1", "4", ".", ".", "2", "."],
        [".", ".", "6", ".", ".", ".", ".", ".", "."],
        [".", ".", ".", ".", ".", ".", ".", ".", "."],
        [".", ".", "1", ".", ".", ".", ".", ".", "."],
        [".", "6", "7", ".", ".", ".", ".", ".", "9"],
        [".", ".", ".", ".", ".", ".", "8", "1", "."],
        [".", "3", ".", ".", ".", ".", ".", ".", "6"],
        [".", ".", ".", ".", ".", "7", ".", ".", "."],
        [".", ".", ".", "5", ".", ".", ".", "7", "."]]

print(sudoku2(grid))

grid = [[".", ".", ".", ".", "2", ".", ".", "9", "."],
        [".", ".", ".", ".", "6", ".", ".", ".", "."],
        ["7", "1", ".", ".", "7", "5", ".", ".", "."],
        [".", "7", ".", ".", ".", ".", ".", ".", "."],
        [".", ".", ".", ".", "8", "3", ".", ".", "."],
        [".", ".", "8", ".", ".", "7", ".", "6", "."],
        [".", ".", ".", ".", ".", "2", ".", ".", "."],
        [".", "1", ".", "2", ".", ".", ".", ".", "."],
        [".", "2", ".", ".", "3", ".", ".", ".", "."]]

print(sudoku2(grid))
